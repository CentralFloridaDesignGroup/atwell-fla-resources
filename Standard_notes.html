<!DOCTYPE html>
<html lang="en">

<head>
  <title>Survey Notes - Florida</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="https://www.atwell-group.com/wp-content/themes/atwell-theme/favicon.png">

  <!--Bootstrap 5-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

  <!--JQuery-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

  <!--Internal style-->
  <link href="internalStyles.css" rel="stylesheet">

  <!--Internal script-->
  <script src="scripts\CommonScripts.js"></script>
  <script src="scripts/notesHandler.js"></script>
</head>

<main>

  <div class="container pt-4">
    <div class="row" id="fema-firm-information">
      <h4 class="text-center">FEMA FIRM Information</h4>
      <div class="col-12 col-lg-6">
        <h5 hidden>Section sub-heading</h5>
        <p class="autocad-command" use="note">
          THE LANDS SHOWN HEREON LIE IN<span target="femaZones"> <span class="hl-orange">{Flood zones}</span></span>, PER<span target="lomarNote"> <span class="hl-orange">{LOMAR DATA}</span></span> FLOOD INSURANCE RATE MAP (FIRM) COMMUNITY PANEL NO. <span target="femaFlood" class="hl-orange">{PANEL NUMBER}</span> FOR <span target="femaJurisdiction" class="hl-orange">{COMMUNITY NAME}</span>, EFFECTIVE <span target="femaEffectiveDate" class="hl-orange">{EFFECTIVE DATE}</span>. THE LIMITS OF SAID ZONES ARE GRAPHICALLY DEPICTED HEREON AS NEAR AS MAY BE SCALED FROM SAID MAP OR IMPORTED FROM GIS DATA PROVIDED BY FEMA. THE ABOVE STATEMENT IS FOR INFORMATION ONLY AND WE ASSUME NO LIABILITY FOR THE CORRECTNESS OF THE CITED MAP(S). IN ADDITION, THE ABOVE STATEMENT DOES NOT REPRESENT THE SURVEYORâ€™S OPINION OF THE PROBABILITY OF FLOODING.</span>
        </p>
        <a class="btn btn-primary mb-2 d-print-none" use="copy">Copy to Clipboard</a>
        <a class="btn btn-secondary mb-2 d-print-none" use="list">Add to List</a>
      </div>
      <div class="col-12 col-lg-6">
        In 90 percent of surveys, the surveyor is responsibile for stating, in their professional opinion, what flood zones affect the subject property. We want to cite our sources including the panel number, community that encompasses the property, and the effective date of the panel. If we have a &quot;Letter of Map Revision&quot; (LOMR), we also need to specify that information.
        <p class="mb-1"><span class="hl-orange">FLOOD ZONES</span> are the names and descriptions of each flood zone that touch the property.</p>
        <p class="mb-1"><span class="hl-orange">LOMAR DATA</span> includes the letter's title, the case number, and date. Note that the flood zone information will come from a LOMR if one is provided.</p>
        <p class="mb-1"><span class="hl-orange">PANEL NUMBER</span> is the FIRM panel number in 00000X0000X format.</p>
        <p class="mb-1"><span class="hl-orange">COMMUNITY NAME</span> is the name of the community, optionally with the community number.</p>
        <p><span class="hl-orange">EFFECTIVE DATE</span> is the date where the map was made effective <b>or revised</b>.</p>
      </div>
    </div>

    <div class="position-absolute bottom-0 end-0">
      <button class="btn btn-primary d-print-none mb-4 me-4" data-bs-toggle="modal" data-bs-target="#modalForm">Open note form</button>
    </div>
  </div>

  <div class="modal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" id="modalForm">
    <div class="modal-dialog modal-fullscreen modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-body container">
          <div class="row">
            <h5>FEMA FIRM Information</h5>
            <div class="col-12 col-lg-4">
              <div class="form-floating mb-2">
                <input class="form-control" id="femaFlood" placeholder="00000X0000X" target-field="femaFlood">
                <label for="femaFlood">FEMA FIRM Panel</label>
              </div>
            </div>
            <div class="col-12 col-lg-4">
              <div class="form-floating mb-2">
                <input class="form-control" id="femaJurisdiction" placeholder="00000X0000X" target-field="femaJurisdiction">
                <label for="femaJurisdiction">Jurisdiction Name</label>
              </div>
            </div>
            <div class="col-12 col-lg-4">
              <div class="form-floating mb-2">
                <input type="date" class="form-control" id="femaEffectiveDate" placeholder="a" target-field="femaEffectiveDate">
                <label for="femaJurisdiction">Effective Date</label>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12 col-lg-3 mb-2">
              <input class="form-check-input" type="checkbox" value="" id="femaZoneX" checked>
              <label class="form-check-label" for="femaZoneX"><b>Zone X (Unshaded)</b></label>
              <p>Areas determined to be outside the 0.2% annual chance floodplain.</p>
            </div>
            <div class="col-12 col-lg-3 mb-2">
              <input class="form-check-input" type="checkbox" value="" id="femaZoneX2">
              <label class="form-check-label" for="femaZoneX2"><b>Zone X (Shaded)</b></label>
              <p>Areas of 0.2% annual chance flood; areas of 1% annual chance flood with average depths of less than 1 foot or with drainage areas less than 1 square mile; and areas protected by levees from 1% annual chance flood.</p>
            </div>
            <div class="col-12 col-lg-3 mb-2">
              <input class="form-check-input" type="checkbox" value="" id="femaZoneA">
              <label class="form-check-label" for="femaZoneA"><b>Zone A</b></label>
              <p>No base flood elevation determined.</p>
            </div>
            <div class="col-12 col-lg-3 mb-2">
              <input class="form-check-input" type="checkbox" value="" id="femaZoneAE">
              <label class="form-check-label mb-2" for="femaZoneAE"><b>Zone AE</b></label>
              <p>Base flood elevation determined at <span target="femaElevation" class="hl-orange py-0 my-0">X</span> feet.</p>              
              <div class="input-group input-group-sm mb-3">
                <span class="input-group-text" id="femaElevation">BFE Elevation</span>
                <input type="number" class="form-control" aria-label="BFE Elevation" aria-describedby="femaElevation" 
                target-field="femaElevation" id="femaElevationForm">
              </div>
            </div>
          </div>
          <div class="row mb-2">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" id="showLomarFields">
              <label class="form-check-label" for="showLomarFields">This project has a LOMAR document associated with it.</label>
            </div>
          </div>
          <div class="row" id="lomarInfo" hidden> 
            <div class="col-12 col-lg-4">
              <div class="form-floating mb-2">
                <input class="form-control" id="lomarName" placeholder="a" target-field="lomarName">
                <label for="lomarName">LOMAR Document Name</label>
              </div>
            </div>           
            <div class="col-12 col-lg-4">
              <div class="form-floating mb-2">
                <input class="form-control" id="lomarCaseNo" placeholder="a" target-field="lomarCaseNo">
                <label for="lomarCaseNo">LOMAR Case Number</label>
              </div>
            </div>           
            <div class="col-12 col-lg-4">
              <div class="form-floating mb-2">
                <input type="date" class="form-control" id="lomarDate" placeholder="a" target-field="lomarDate">
                <label for="lomarDate">LOMAR Date</label>
              </div>
            </div>           
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">View notes without pre-fill</button>
          <button type="button" class="btn btn-primary" id="formConfirm">Pre-fill and View Notes</button>
        </div>
      </div>
    </div>
  </div>

  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <img src="https://www.atwell-group.com/wp-content/themes/atwell-theme/favicon.png" height="16" class="rounded me-2" alt="...">
        <strong class="me-auto" id="toast-header">Bootstrap</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body" id="toast-body"></div>
    </div>
  </div>
</main>

<script>
  document.getElementById("femaElevationForm").addEventListener("change",() => {
    var femaField = document.getElementById("femaElevationForm");
    document.querySelector("[target='" + femaField.getAttribute("target-field") + "']").innerText=femaField.value;
  });

  document.getElementById("showLomarFields").addEventListener("change", () => {
    const status = document.getElementById("showLomarFields").checked;
    if (status) {
      document.getElementById("lomarInfo").removeAttribute("hidden");
      return;
    }
    document.getElementById("lomarInfo").setAttribute("hidden", "");
  })
</script>

</html>
